(this["webpackJsonpcounter-app"]=this["webpackJsonpcounter-app"]||[]).push([[0],{29:function(e,t,n){},30:function(e,t,n){},46:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n(1),s=n.n(r),a=n(5),o=n.n(a),l=(n(29),n(2)),i=n(6),u=n(21),d=(n(30),n(14)),b=n.n(d),m=n(20),j=n(3),f=s.a.forwardRef((function(e,t){var n=Object(r.useContext)(A),s=Object(r.useContext)(R);console.log("CounterH render!");var a=e.singleCounter,o=e.modalOpen,l=e.counterToDelete,i={fontSize:"1.25rem",fontWeight:"bold"},u=Object(r.useMemo)((function(){var e="badge-text col-sm-1 py-3 ml-sm-5 ml-0 ml-md-5 ml-lg-2 ";return e+=0===a.value?"bwarning":"bprimary"}),[a.value]),d=Object(r.useMemo)((function(){var e=a.value;return 0===e?"Zero":e}),[a]),b=function(e){if(!0===a.adult){if("increment"===e)n.setAdultCounterClicked(a),s.setModalIsOpen(!0);else if("decrement"===e)return!1}else if(a.value>=10&&a.value%10===0&&"increment"===e)s.toastNotify(),n.countDispatch({type:e,counterNo:a});else if("increment"===e)n.countDispatch({type:e,counterNo:a});else if("decrement"===e&&a.value>0)n.countDispatch({type:e,counterNo:a});else if("decrement"===e&&a.value<=0)return!1};return Object(c.jsxs)("div",{className:"mt-4 row mx-0 px-0",ref:t,children:[Object(c.jsx)("div",{className:"sm-caps bgr1 mb-1 text-center mx-auto mx-sm-1 prodW",children:"Name:"}),Object(c.jsx)("div",{className:"mx-sm-1 mr-sm-3 mx-0 fCol1 prodName text-center col-sm-4 col-md-3",children:a.name}),Object(c.jsx)("div",{className:"sm-caps bgr1 mb-1 mt-3 mt-sm-0 mx-sm-1 mx-auto",children:"Unit:"}),Object(c.jsx)("div",{className:"mx-sm-1 mr-sm-3 mx-0 fCol1 unit text-center",children:a.unit}),Object(c.jsx)("div",{className:"w-100 d-md-none"}),Object(c.jsx)("div",{className:"sm-caps bgr1 text-center mb-1 mx-auto mx-sm-1  mt-3 mt-sm-0",children:"Price:"}),Object(c.jsxs)("div",{className:"mr-sm-5 mr-md-2 fCol2 price priceW pt-1 px-1 mb-3 mb-sm-0 col-sm-2 col-lg-1",children:["$",a.price]}),Object(c.jsx)("div",{className:"w-100 d-lg-none d-sm-none d-md-block"}),Object(c.jsx)("div",{className:u,children:Object(c.jsx)("span",{className:"badge-no-text",children:d})}),Object(c.jsx)(j.a,{content:"Click to increment the number of the product to buy",disabled:n.disable,placement:"top-end",delay:100,children:Object(c.jsx)("button",{onClick:function(){return b("increment")},className:"btn btn-success btn-sm mt-2 my-sm-0 ml-sm-3 col-sm-1 plus",children:Object(c.jsx)("span",{style:i,children:"+"})})}),Object(c.jsx)(j.a,{content:"Click to decrement the number of the product to buy",disabled:n.disable,placement:"top-end",delay:100,children:Object(c.jsx)("button",{onClick:function(){return b("decrement")},className:"btn btn-dark btn-sm my-1 mx-sm-1 col-sm-1 minus",children:Object(c.jsx)("span",{style:i,children:"-"})})}),Object(c.jsx)(j.a,{content:"Click to delete the product from the list",disabled:n.disable,placement:"top-end",delay:100,children:Object(c.jsx)("button",{onClick:function(e){o(!0),l(a)},className:"btn btn-danger btn-sm mb-3 mb-sm-0 col-sm-1",children:"Del"})})]})})),h=s.a.memo(f),O=n(4),p=n.n(O);function x(){var e=Object(r.useState)(Object(c.jsxs)("div",{className:"h5",children:[Object(c.jsx)("div",{className:"todayOffer mb-2",children:"Today's special offer!"}),Object(c.jsx)("div",{className:"mb-3",children:Object(c.jsxs)("span",{children:["* If you buy for more than"," ",Object(c.jsx)("span",{style:{color:"royalblue"},children:"$500"})," you will get"," ",Object(c.jsx)("span",{style:{color:"royalblue"},children:"10%"})," discount! *"]})})]})),t=Object(l.a)(e,2),n=t[0],s=t[1],a=Object(r.useState)(!1),o=Object(l.a)(a,2),i=o[0],u=o[1],d=Object(r.useRef)([]),f=Object(r.useState)({}),O=Object(l.a)(f,2),x=O[0],v=O[1],g=Object(r.useContext)(A),N=g.totalPrice,y=g.prevWholePrice;Object(r.useEffect)((function(){(N<=500&&y>500||N>500&&y<=500)&&(C(),console.log("CountersH callTextOffer render!"))}),[N]),Object(r.useEffect)((function(){console.log("CountersH textOffer render!")}),[n]),Object(r.useEffect)((function(){console.log("CountersH counterContext render!")}),[g]),Object(r.useEffect)((function(){console.log("CountersH modalIsOpen render!")}),[i]);var C=Object(r.useCallback)(Object(m.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D;case 2:t=e.sent,s(t);case 4:case"end":return e.stop()}}),e)}))),[N]),k=Object(r.useCallback)((function(e){e&&!d.current.includes(e)&&d.current.push(e)}),[]),w=function(e){if(console.log("handleModalDelete"),u(!1),"yes"!==e.target.id)return!1;g.countDispatch({type:"delete",counterNo:x})},D=Object(r.useMemo)((function(){return new Promise((function(e,t){t.length>1?t(new Error("Error to get total price!")):setTimeout((function(){e(N<=500?Object(c.jsxs)("div",{className:"h5",children:[Object(c.jsx)("div",{className:"todayOffer mb-2",children:"Today's special offer!"}),Object(c.jsx)("div",{className:"mb-3",children:Object(c.jsxs)("span",{children:["* If you buy for more than"," ",Object(c.jsx)("span",{style:{color:"royalblue"},children:"$500"})," you will get ",Object(c.jsx)("span",{style:{color:"royalblue"},children:"10%"})," ","discount! *"]})})]}):Object(c.jsxs)("div",{className:"h5",children:[Object(c.jsx)("div",{className:"todayOffer mb-2",children:"Congratulations!!!"}),Object(c.jsx)("div",{className:"mb-3",children:Object(c.jsxs)("span",{style:{fontWeight:"bold",color:"royalblue"},children:["* You've got"," ",Object(c.jsx)("span",{style:{color:"mediumvioletred"},children:"10%"})," ","DISCOUNT! *"]})})]}))}),550*g.durationTime)}))}),[N,g.durationTime]),T=function(e){u(e)},S=Object(r.useMemo)((function(){var e="btn text-center btn-sm ml-2 ";return e+=!1===g.disable?"btn-light":"btn-info"}),[g.disable]),E=Object(r.useMemo)((function(){return g.countState.map((function(e){return Object(c.jsx)(h,{singleCounter:e,ref:k,modalOpen:T,counterToDelete:v},e.id)}))}),[g.countState]);return Object(c.jsxs)("main",{className:"main m-0 p-sm-2 row",children:[Object(c.jsxs)(p.a,{className:"dialog-box border border-warning text-center py-4 px-5",isOpen:i,onRequestClose:function(){return T(!1)},shouldCloseOnOverlayClick:!1,style:{overlay:{backgroundColor:"rgba(169, 169, 180, 0.733)"},content:{color:"crimson",backgroundColor:"whitesmoke",padding:"30px"}},children:[Object(c.jsx)("div",{className:"btn-close2",children:Object(c.jsx)("button",{className:"btn btn-sm btn-basic btn-alert close-btn border-dark font-weight-bold",onClick:function(){return u(!1)},children:"X"})}),Object(c.jsx)("h4",{className:"bg-warning mb-3 p-1 h5",children:"Danger Zone!"}),Object(c.jsx)("h5",{className:"mb-4 confirm-age h6",children:"Confirm deleting the product!"}),Object(c.jsx)("h4",{className:"dialog-question text-center mx-auto h6",children:"Are you sure you want to delete the product from the list?"}),Object(c.jsx)("button",{className:"btn btn-danger btn-alert mr-5 mt-3",id:"yes",onClick:w,children:"YES"}),Object(c.jsx)("button",{className:"btn btn-primary btn-alert mt-3",id:"no",onClick:w,children:"NO"})]}),Object(c.jsx)("div",{className:"offer pt-2 px-1 px-md-2 col-12 col-md-10",children:Object(c.jsxs)("div",{className:"h5 specialOffer",children:[n," "]})}),Object(c.jsx)("div",{className:"w-100"}),Object(c.jsx)("div",{className:"h5 ml-2 mt-3 mainTitle",children:"List of products in our shop:"}),Object(c.jsx)("div",{className:"w-100"}),Object(c.jsx)(j.a,{content:"Click to reset number of selected products to zero",placement:"top-start",disabled:g.disable,children:Object(c.jsx)("button",{onClick:function(){return g.countDispatch({type:"reset"})},className:"btn text-center btn-sm mx-2 my-3 reset",children:"Reset"})}),Object(c.jsx)(j.a,{content:Object(c.jsx)(c.Fragment,{children:Object(c.jsx)("div",{children:"Click to turn off / on tips"})}),placement:"left-end",disabled:g.disable,children:Object(c.jsx)("button",{onClick:function(){return g.setDisable(!g.disable)},className:S,children:!1===g.disable?"Turn off tips":"Turn on tips"})}),Object(c.jsx)("div",{className:"w-100"}),Object(c.jsx)("div",{className:"container mx-1 counters",children:E})]})}p.a.setAppElement("#root");var v=s.a.memo(x),g=n(15),N=n.n(g),y=function(){var e=Object(r.useContext)(A),t=Object(r.useState)("badge badge-pill  ml-1 badge-warning"),n=Object(l.a)(t,2),s=n[0],a=n[1],o=e.totalPrice;Object(r.useEffect)((function(){u()}),[o]),console.log("Navbar render!");var i=Object(r.useMemo)((function(){return e.countState.reduce((function(e,t){return e+t.value}),0)}),[e.countState]),u=Object(r.useCallback)((function(){var t="badge badge-pill  ml-1 ";if(t+=0===i?"badge-warning":"badge-primary",!(e.prevWholeValue-i<=0))return new Promise((function(n,c){c.length>1?c(new Error("Error to get total price!")):setTimeout((function(){a(t),n(t)}),550*e.durationTime)}));a(t)}),[e.countState]);return Object(c.jsx)("nav",{className:"navbar navbar-light bg-light ml-2",children:Object(c.jsxs)("a",{className:"navbar-brand",href:"##",children:[Object(c.jsxs)("div",{className:"row mb-2",children:[Object(c.jsx)("div",{children:"Number of\xa0"}),Object(c.jsx)("span",{className:"font-weight-bold n1",children:"grades\xa0"}),"to buy:"," ",Object(c.jsx)("span",{className:"badge badge-pill badge-secondary ml-1 mr-0",children:e.countState.filter((function(e){return e.value>0})).length})]}),Object(c.jsxs)("div",{className:"row mb-2",children:[Object(c.jsx)("span",{children:"Number of\xa0"}),Object(c.jsx)("span",{className:"font-weight-bold n2",children:"products\xa0"}),"to buy:",Object(c.jsx)("span",{className:s,children:Object(c.jsx)(N.a,{start:e.prevWholeValue,end:i,duration:e.prevWholeValue-i<=0?.3:e.durationTime,children:function(e){var t=e.countUpRef;return Object(c.jsx)("div",{children:Object(c.jsx)("span",{ref:t})})}})})]}),Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("span",{className:"font-weight-bold n3",children:"Total price: "}),Object(c.jsx)("span",{className:"badge badge-pill badge-success ml-1 py-2",children:Object(c.jsx)(N.a,{start:e.prevWholePrice,end:e.totalPrice<=500?e.totalPrice:.9*e.totalPrice,duration:e.durationTime,prefix:"$",separator:",",children:function(e){var t=e.countUpRef;return Object(c.jsx)("div",{children:Object(c.jsx)("span",{ref:t})})}})})]})]})})},C=s.a.memo(y),k=n(10),w=(n(43),n(44),n(9)),D={name:"",unit:"piece",price:0,adult:!1};function T(e){var t=e.addPro,n=Object(r.useContext)(A),a=Object(r.useState)(D),o=Object(l.a)(a,2),u=o[0],d=o[1],b=Object(r.useState)(!1),m=Object(l.a)(b,2),f=m[0],h=m[1],O=s.a.createRef(),p=Object(r.useRef)([]),x=Object(r.useCallback)((function(e){e&&!p.current.includes(e)&&p.current.push(e)}),[]);Object(r.useEffect)((function(){!0===f&&setTimeout((function(){p.current[0].focus()}),1300)}),[f]),console.log("Add render!");var v=function(e){if("Enter"===e.key)switch(e.target.name){case"name":e.preventDefault(),p.current[1].focus();break;case"unit":e.preventDefault(),p.current[2].focus();break;case"price":e.preventDefault(),p.current[3].focus();break;case"adult":e.preventDefault(),p.current[4].focus();break;case"submit":p.current[0].focus();break;default:e.preventDefault(),p.current[0].focus()}},g=function(e){var t=e.target.value;"adult"===e.target.name&&(t=!0===e.target.checked),d(Object(i.a)(Object(i.a)({},u),{},Object(w.a)({},e.target.name,t)))},N=f?"formAdd row visible-form":" formAdd row hidden-form";return Object(c.jsxs)("div",{className:"text-left bg-light",children:[Object(c.jsx)(j.a,{content:"Click to open add form. Use enter, tab key or mouse to jump between input fields",disabled:n.disable,placement:"top-start",delay:100,children:Object(c.jsx)("button",{className:"btn btn-info add-btn mt-3 mb-2 ml-2",onClick:function(){return h(!f)},children:"Add a new product"})}),Object(c.jsx)("div",{className:"container formWrapp",children:Object(c.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t(u),d(D)},className:N,ref:O,children:[Object(c.jsxs)("div",{className:"row mx-0",children:[Object(c.jsxs)("div",{className:"form-group col-md-4",children:[Object(c.jsx)("label",{htmlFor:"name",className:"label ml-md-3 mr-1",children:"Name:"}),Object(c.jsx)("input",{type:"text",name:"name",id:"name",className:"form-control",value:u.name,required:!0,maxLength:"75",placeholder:"Product name",onChange:g,ref:x,onKeyDown:v})]}),Object(c.jsxs)("div",{className:"form-group col-md-4",children:[Object(c.jsx)("label",{htmlFor:"unit",className:"label ml-md-3 mr-1",children:"Unit:"}),Object(c.jsxs)("select",{className:"form-control form-control-sm",id:"unit",name:"unit",required:!0,onChange:g,ref:x,onKeyDown:v,children:[Object(c.jsx)("option",{children:"piece"}),Object(c.jsx)("option",{children:"kg"}),Object(c.jsx)("option",{children:"box"}),Object(c.jsx)("option",{children:"can"}),Object(c.jsx)("option",{children:"bottle"}),Object(c.jsx)("option",{children:"litre"})]})]}),Object(c.jsxs)("div",{className:"form-group col-md-4",children:[Object(c.jsx)("label",{htmlFor:"price",className:"mr-1",children:"Price ($):"}),Object(c.jsx)("input",{type:"number",step:"any",name:"price",id:"price",value:u.price,className:"form-control",min:"0",max:"10000",required:!0,placeholder:"Price",onChange:g,ref:x,onKeyDown:v})]}),Object(c.jsx)("div",{className:"form-group mt-4 col-md-4",children:Object(c.jsxs)("div",{className:"form-check",children:[Object(c.jsx)("input",{className:"form-check-input",type:"checkbox",id:"adultsCheck",name:"adult",checked:u.adult,onChange:g,ref:x,onKeyDown:v}),Object(c.jsx)("label",{className:"form-check-label",htmlFor:"adultsCheck",children:"Only for adults"})]})})]}),Object(c.jsx)("div",{className:"w-100"}),Object(c.jsx)("button",{name:"submit",className:"btn btn-success ml-3 add-submit my-1",ref:x,onKeyDown:v,children:"Add"})]})})]})}var S=s.a.memo(T);function E(){var e=Object(r.useState)(!1),t=Object(l.a)(e,2),n=t[0],s=t[1],a=Object(r.useContext)(A);return Object(r.useEffect)((function(){console.log("DevelopInfo render")})),Object(c.jsxs)("div",{className:"dev-info text-right mt-2",children:[Object(c.jsx)(j.a,{content:"Click to see some general information about the page's front-end environment",disabled:a.disable,placement:"top-start",delay:100,children:Object(c.jsx)("button",{className:"btn btn-light btn-sm m-2",onClick:function(){return s(!0)},children:"Developing info"})}),Object(c.jsxs)(p.a,{className:"dialog-box border text-center pt-4 pb-5 px-5",isOpen:n,onRequestClose:function(){return s(!1)},shouldCloseOnOverlayClick:!0,style:{overlay:{backgroundColor:"rgba(169, 169, 180, 0.733)"},content:{color:"snow",backgroundColor:"whitesmoke",padding:"30px"}},children:[Object(c.jsx)("div",{className:"btn-close2",children:Object(c.jsx)("button",{className:"btn btn-sm btn-basic btn-alert close-btn border-dark font-weight-bold",onClick:function(){return s(!1)},children:"X"})}),Object(c.jsx)("h4",{className:"bg-info mb-3 p-1 h5",children:"Webdeveloping basic information"}),Object(c.jsx)("div",{className:"dialog-question text-center mx-auto dev-box",children:"This page was built in react.js with functional components based on HOOK tools such as useState, useEffect, useContext, useRef, useMemo, useCallback and useReducer. There are some additional libraries used here such as: @tippyjs/react, react-modal, react-toastify and react-countup. All components have been optimized appropriately."})]})]})}p.a.setAppElement("#root");var P=s.a.memo(E);p.a.setAppElement("#root");var A=s.a.createContext(),R=s.a.createContext(),M=[{id:0,value:0,name:"Coffe machine DeLonghi S 22.110.B",unit:"piece",price:200,adult:!1},{id:1,value:0,name:"Earl Grey Tea, 100 Tea Bags",unit:"box",price:10,adult:!1},{id:2,value:0,name:"Every Day Tea, 100 Tea Bags",unit:"box",price:12,adult:!1},{id:3,value:0,name:"Bordeaux 2018",unit:"bottle",price:20,adult:!0},{id:4,value:0,name:"Beer Tuborg",unit:"can",price:5,adult:!0}],W=function(e,t){var n,c=Object(u.a)(e);if("add"!==t.type&&"delete"!==t.type)c[n=e.indexOf(t.counterNo)]=Object(i.a)({},t.counterNo);else if("add"===t.type)c[n=e.length]=Object(i.a)({id:n,value:0},t.counterNo);else if("delete"===t.type){for(var r=0;r<c.length;r++)c[r]=Object(i.a)({},e[r]);c=c.filter((function(e){return e.id!==t.counterNo.id}));for(var s=0;s<c.length;s++)c[s].id=s}switch(t.type){case"increment":return c[n].value++,c;case"decrement":return c[n].value<=0||c[n].value--,c;case"yesAdult":return c[n].adult=!1,c[n].id===t.adultCounter.id&&c[n].value++,c;case"add":case"delete":return c;case"reset":return M;default:return e}};var q=function(){var e=Object(r.useReducer)(W,M),t=Object(l.a)(e,2),n=t[0],s=t[1],a=Object(r.useRef)(n.reduce((function(e,t){return e+t.price*t.value}),0)),o=Object(r.useRef)(n.reduce((function(e,t){return e+t.value}),0)),i=Object(r.useState)(!1),u=Object(l.a)(i,2),d=u[0],b=u[1],m=Object(r.useState)(!1),j=Object(l.a)(m,2),f=j[0],h=j[1],O=Object(r.useState)({}),x=Object(l.a)(O,2),g=x[0],N=x[1];Object(r.useEffect)((function(){a.current=n.reduce((function(e,t){return e+t.price*t.value}),0),o.current=n.reduce((function(e,t){return e+t.value}),0)}),[n]),console.log("App render!");var y=function(){console.log("notify"),k.c.info("To get wholesales prices of our products you are more than welcome to contact with our office.",{position:"top-right",autoClose:8e3,closeOnClick:!0,pauseOnHover:!0,draggable:!0,transition:k.a})},w=Object(r.useMemo)((function(){return n.reduce((function(e,t){return e+t.price*t.value}),0)}),[n]),D=function(e){if(h(!1),"yes"!==e.target.id)return!1;n.forEach((function(e){!0===e.adult&&s({type:"yesAdult",counterNo:e,adultCounter:g})}))},T=Object(r.useCallback)((function(e){s({type:"add",counterNo:e})}),[n]),E=Object(r.useMemo)((function(){return{countState:n,countDispatch:s,prevWholePrice:a.current,prevWholeValue:o.current,totalPrice:w,durationTime:1.6,disable:d,setDisable:b,setAdultCounterClicked:N}}),[n,d]),q=Object(r.useMemo)((function(){return{toastNotify:y,setModalIsOpen:h}}),[n]);return Object(c.jsxs)("div",{className:"App",children:[Object(c.jsxs)(p.a,{className:"dialog-box border border-warning text-center py-4 px-5",isOpen:f,onRequestClose:function(){return h(!1)},shouldCloseOnOverlayClick:!1,style:{overlay:{backgroundColor:"rgba(169, 169, 180, 0.733)"},content:{color:"crimson",backgroundColor:"whitesmoke",padding:"50px"}},children:[Object(c.jsx)("div",{className:"btn-close",children:Object(c.jsx)("button",{className:"btn btn-sm btn-basic btn-alert border-dark font-weight-bold close-btn mx-2",onClick:function(){return h(!1)},children:"X"})}),Object(c.jsx)("h4",{className:"bg-warning mb-3 p-1 h5",children:"Adult Zone!"}),Object(c.jsx)("h5",{className:"mb-4 confirm-age h6",children:"Confirm your age!"}),Object(c.jsx)("h4",{className:"dialog-question h5",children:"Are you over 18?"}),Object(c.jsx)("button",{className:"btn btn-primary btn-alert mr-5 mt-3",id:"yes",onClick:D,children:"YES"}),Object(c.jsx)("button",{className:"btn btn-danger btn-alert mt-3",id:"no",onClick:D,children:"NO"})]}),Object(c.jsxs)(A.Provider,{value:E,children:[Object(c.jsx)(C,{}),Object(c.jsx)(R.Provider,{value:q,children:Object(c.jsx)(v,{})}),Object(c.jsx)(S,{addPro:T}),Object(c.jsx)(P,{})]}),Object(c.jsx)(k.b,{style:{textAlign:"justify"},limit:1}),Object(c.jsxs)("footer",{className:"text-center mx-auto my-1 footer",children:["\xa9 2021 ",Object(c.jsx)("i",{children:"by"})," codencja"]})]})},F=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,50)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,s=t.getLCP,a=t.getTTFB;n(e),c(e),r(e),s(e),a(e)}))};n(45);o.a.render(Object(c.jsx)(s.a.StrictMode,{children:Object(c.jsx)(q,{})}),document.getElementById("root")),F()}},[[46,1,2]]]);
//# sourceMappingURL=main.b95f6835.chunk.js.map